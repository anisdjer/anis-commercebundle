function deleteUser(a,f){new Anis("Voulez-vous vraiment supprimer",{title:"Supprimer",buttons:[{id:0,label:"Oui",val:"Y"},{id:1,label:"Non",val:"N"}],callback:function(d){switch(d){case "Y":$.ajax({type:"POST",url:a,data:{_method:"DELETE"}}).done(function(e){e=$(f).parent().parent().parent().parent().parent().parent();e.next().remove();e.remove()}).fail(function(){alert("erreur")})}}})}
function search(a,f,d){var e=this;e.options=jQuery.extend({},search.prototype.options,d||{});var g={},b=$($(".entite:first")[0]);console.log(b);var m=$(b).next(),k=$(".entitiesfooter");$(".search").each(function(b,c){c.value&&(g[f[b]]=c.value.trim(),console.log(f[b]+" "+c.value.trim()))});$.ajax(a,{type:"POST",data:g,success:function(a){$(".entite").next().remove();$(".entite").remove();a.forEach(function(c,a){var d=b.find(".art-button.show")[0],g=b.find(".art-button.edit")[0],l=b.find(".art-button.delete")[0],
h;f.forEach(function(a,d){h=b.find("."+a)[0];"path"==a?(h.innerHTML="<img style='width: 50px; height:50px' src='"+e.options.path+"' />","path"!=c[a]&&(h.innerHTML="<img style='width: 50px; height:50px' src='../../../"+c[a]+"' />")):"undefined"!=c[a]&&(h.innerHTML=c[a])});d&&(d.href=c.showURL);g&&(g.href=c.editURL);l&&(l.onclick="deleteUser('"+c.deleteURL+"', this)");e.options.callback(b);b.clone().insertBefore(k);m.clone().insertBefore(k)})},done:function(a){}})}
search.prototype={options:{path:"",callback:function(a){}}};